from .base import BaseLLM
from langchain_core.prompts import PromptTemplate

class PortfolioAlertLLM(BaseLLM):
    def __init__(self):
        super().__init__()
        
    def get_prompt_template(self):
        return PromptTemplate.from_template("""
        λ‹Ήμ‹ μ€ ν¬νΈν΄λ¦¬μ¤ κ΄€λ¦¬ μ „λ¬Έκ°€μ…λ‹λ‹¤. μ¤λ({current_date}) μ•„μΉ¨μ— ν¬μμμ—κ² λ³΄λ‚Ό ν¬νΈν΄λ¦¬μ¤ μ•λ¦Ό λ©”μΌμ μ λ©μ„ μƒμ„±ν•΄μ£Όμ„Έμ”.
        
        κ·μΉ™:
        1. λ°λ“μ‹ μ΄λ¨μ§€λ¥Ό ν¬ν•¨ν•μ„Έμ” (μ: π’¥, π―, π“)
        2. μ‹¤μ  μμµ/μ†μ‹¤ λ°μ΄ν„°λ§ μ‚¬μ©ν•μ„Έμ”
        3. 20μ μ΄λ‚΄λ΅ κ°„λ‹¨λ…λ£ν•κ² μ‘μ„±ν•μ„Έμ”
        4. κµ¬μ²΄μ μΈ μμµλ¥ μ΄λ‚ μ†μ‹¤λ¥ μ„ ν¬ν•¨ν•μ„Έμ”
        5. ν¬μμμ λ©ν‘ μμµλ¥ κ³Ό ν„μ¬ μμµλ¥ μ„ λΉ„κµν•μ—¬ μλ―Έμλ” μ•λ¦Όμ„ μƒμ„±ν•μ„Έμ”
        6. ν¬μμμ ν¬μ λ©ν‘μ— λ¶€ν•©ν•λ” μ•λ¦Όμ„ μƒμ„±ν•μ„Έμ”
        7. ν¬νΈν΄λ¦¬μ¤ λ³΄κ³ μ„μ λ¶„μ„ λ‚΄μ©μ„ μ°Έκ³ ν•μ—¬ λ” μ •ν™•ν• ν¬νΈν΄λ¦¬μ¤ μƒνƒλ¥Ό μ•λ ¤μ£Όμ„Έμ”
        8. λ°λ“μ‹ ν•λ‚μ μ λ©λ§ μƒμ„±ν•μ„Έμ”
        
        ν¬νΈν΄λ¦¬μ¤ λ°μ΄ν„°:
        {portfolio_data}
        
        κ°μΈ λ¦¬ν¬νΈ μ”μ•½:
        {report_data}
        
        μμ‹:
        π’¥ μ„ν—! μ‚Όμ„±μ „μ 5.2% μ†μ‹¤, λ¦¬λ°Έλ°μ‹± ν•„μ”
        π― κΈ°ν! λ„¤μ΄λ²„ 3.5% μμµ μ‹¤ν„ νƒ€μ΄λ°
        
        μ•λ¦Ό:
        """) 